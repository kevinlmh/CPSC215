<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<meta name="Author" content="Takunari Miyazaki">
<link rel="shortcut icon" href="/~miyazaki/images/favicon.ico" type="image/vnd.microsoft.icon">
<title>
CPSC 215L: Laboratory 12
</title>
<style type="text/css">
a {text-decoration: none;}
body {background-color: #FFEEDD;}
</style>
</head>

<body>

<table border="0" cellspacing="0" width="100%">
<tr>
<td height="55">
<b><font size="+2">CPSC 215L: Data Structures and Algorithms</font></b>
</td>
<td align="right">
<b><font size="+1">Spring 2014</font></b>
</td>
</tr>
</table>

<hr>

<h2>
Laboratory 12: The ADT map
</h2>

<h3>
Wednesday, April 23
</h3>

This laboratory assignment will be graded in numerical points.  For this 
laboratory, unlike the pass/fail laboratories, you are expected to work alone, 
without any help from others.  You may consult your notes, your previous work 
and any printed materials, but no Internet access is allowed, except for the 
course website.  Hand in your solution by the end of the laboratory period. 

<h3>
Objectives
</h3>

This week, you will implement and use the ADT map.  You will first work on a 
simple list-based implementation and then a hash-table-based implementation 
using separate chaining for collision handling.  To test your implementations, 
you will also write a Java application to count the number of occurrences of 
each word in a given text file, similar to one completed in Laboratory 11 last 
week.

<h3>
1. Preparation
</h3>

First, create a directory named <tt>lab12</tt> and download the following JAR 
(Java ARchive) file by clicking the link provided.  To do this, you need to be 
on this Laboratory 12 webpage.

<blockquote>
<a href="lab12.jar"><tt>lab12.jar</tt></a>
</blockquote>

Once you have downloaded the archive, type the following command from the 
<tt>lab12</tt> directory.

<blockquote>
<tt>jar xvf lab12.jar</tt>
</blockquote>

Your directory should now contain the following eighteen <tt>.java</tt> files.

<blockquote>
<a href="BoundaryViolationException.java"><tt>BoundaryViolationException.java</tt></a><br>
<a href="DNode.java"><tt>DNode.java</tt></a><br>
<a href="ElementIterator.java"><tt>ElementIterator.java</tt></a><br>
<a href="EmptyListException.java"><tt>EmptyListException.java</tt></a><br>
<a href="Entry.java"><tt>Entry.java</tt></a><br>
<a href="InvalidKeyException.java"><tt>InvalidKeyException.java</tt></a><br>
<a href="InvalidPositionException.java"><tt>InvalidPositionException.java</tt></a><br>
<a href="Iterable.java"><tt>Iterable.java</tt></a><br>
<a href="Iterator.java"><tt>Iterator.java</tt></a><br>
<a href="ListMap.java"><tt>LispMap.java</tt></a><br>
<a href="Map.java"><tt>Map.java</tt></a><br>
<a href="MapEntry.java"><tt>MapEntry.java</tt></a><br>
<a href="NoSuchElementException.java"><tt>NoSuchElementException.java</tt></a><br>
<a href="NodePositionList.java"><tt>NodePositionList.java</tt></a><br>
<a href="Position.java"><tt>Position.java</tt></a><br>
<a href="PositionList.java"><tt>PositionList.java</tt></a><br>
<a href="SCHashTableMap.java"><tt>SCHashTableMap.java</tt></a><br>
<a href="WordCount.java"><tt>WordCount.java</tt></a>
</blockquote>

All but the classes <tt>ListMap</tt>, <tt>SCHashTableMap</tt> and 
<tt>WordCount</tt> are completed.

<h3>
2. The ADT map
</h3>

<b>The class <tt>ListMap</tt>.</b>
The class <tt>ListMap</tt> is a simple list-based implementation of the ADT 
map.  Its overall design is based on what is summarized in &sect;9.1.2, 
p. 389, of our main textbook.  Our implementation uses the class 
<tt>NodePositionList</tt> as an underlying construct, with entry objects 
defined by the external class <tt>MapEntry</tt>.  In the class 
<tt>ListMap</tt>, some methods are already implemented.  You are to implement 
the following two methods according to the given specifications (here, note 
that <tt>NodePositionList</tt> does not support the method 
<tt>positions()</tt> used in the textbook's pseudocode, so you must find 
another solution without using this method).

<ol>
<li><tt>put()</tt>&mdash;Insert an entry with a given key <tt>k</tt> and 
  value <tt>v</tt> into the map, returning the old value whose associated key 
  is <tt>k</tt> if it exists.
<li><tt>entrySet()</tt>&mdash;Returns an <tt>Iterable</tt> collection
  of all the entries in the map.
</ol>

To test your implementation, proceed to &sect;3 below.

<p>
<b>The class <tt>SCHashTableMap</tt>.</b>
The class <tt>SCHashTableMap</tt> is a hash-table-based implementation of the 
ADT map using separate chaining for collision handling.  Its overall design 
is based on what is summarized in &sect;9.2.5, pp. 397, 398, of our main 
textbook.  Our implementation uses the class <tt>ListMap</tt> as an 
underlying construct, with entry objects defined by the external class 
<tt>MapEntry</tt> (in particular, each cell of the hash table is a 
<tt>ListMap</tt> object).  In the class <tt>SCHashTableMap</tt>, some methods 
are already implemented.  You are to implement the following two methods 
according to the given specifications.

<ol start="3">
<li><tt>put()</tt>&mdash;Insert an entry with a given key <tt>k</tt> and 
  value <tt>v</tt> into the map, returning the old value whose associated key 
  is <tt>k</tt> if it exists.
<li><tt>entrySet()</tt>&mdash;Returns an <tt>Iterable</tt> collection
  of all the entries in the map.
</ol>

To test your implementation, proceed to &sect;3 below.

<h3>
3. Counting word frequencies
</h3>

As done in <a href="../../lab11/">Laboratory 11</a> last week, complete the 
class <tt>WordCount</tt> to implement a Java application to count the number 
of occurrences of each word in a given text file.  The <tt>main()</tt> method 
should do the following: (i) read input text, (ii) analyze it using the ADT 
map, and then (iii) output the results.  As before, to test your 
implementation, use the text files <a href="tale.txt"><tt>tale.txt</tt></a> 
and <a href="shorttale.txt"><tt>shorttale.txt</tt></a>.

<p>
<b>Reading input.</b>
In the <tt>main()</tt> method, you are provided code segment to read an input 
text file into a string named <tt>inString</tt>.  This code assumes that the 
name of an input file is specified in the command line in the following way.

<blockquote>
<pre>
java WordCount tale.txt
</pre>
</blockquote>

This code then uses the class <a href="http://download.oracle.com/javase/6/docs/
api/java/util/StringTokenizer.html"><tt>java.util.StringTokenizer</tt></a> to 
break the input string into individual words.  Notice how the delimiters are 
specified to avoid punctuation marks and line feeds.

<p>
<b>Constructing a map.</b>
Your program should next construct a <i>map</i>, as an instance of the ADT 
map, consisting of key-value pairs, where keys are words, and values are the 
numbers of occurrences.  Use the class <tt>ListMap</tt> first and then the 
class <tt>SCHashTableMap</tt>.  As it scans each word, your program should 
add or update its corresponding entry with the number of occurrences it has 
seen so far.

<p>
<b>Generating a list of words and their frequencies.</b>
Once a map is filled with all words and their frequencies, it is easy to 
generate a list of words and their frequencies.  All you need to do is to 
invoke the ADT map's method <tt>entrySet()</tt>.  To print its content, use 
the <tt>static</tt> method <tt>print()</tt> defined in the class 
<tt>WordCount</tt>.  If you use the class <tt>ListMap</tt>, the resulting 
list from <tt>shorttale.txt</tt> should look like:

<blockquote>
<pre>
[book=1, first=1, recalled=1, to=7, ..., through=1, chickens=1, brood=1]
</pre>
</blockquote>

Also, print the total number of distinct words and the frequencies of the 
words &ldquo;the&rdquo;, &ldquo;of&rdquo; and &ldquo;was&rdquo; in the 
following format:

<blockquote>
<pre>
There are 181 distinct words.
The word "the" appears 31 times.
The word "of" appears 25 times.
The word "was" appears 13 times.
</pre>
</blockquote>

Do this for both <tt>ListMap</tt> and <tt>SCHashTableMap</tt>.  Save a 
snapshot your test run in a file named <tt>lab12.out</tt>.

<h3>
4. Documentation with Javadoc
</h3>

As done before, document your <tt>ListMap.java</tt>, 
<tt>SCHashTableMap.java</tt> and <tt>WordCount.java</tt> files using Javadoc 
tags.  For more details about Javadoc, see pp. 51, 52 of our main textbook or 
the <a href="http://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html">Javadoc Tool Home Page</a>.

<h3>
5. What to hand in
</h3>

Upon completion of your laboratory, have your work checked by the instructor 
or TA.  Turn in hard copies of <tt>ListMap.java</tt>, 
<tt>SCHashTableMap.java</tt>, <tt>WordCount.java</tt> and <tt>lab12.out</tt>.

<br>
<br>
<hr>

<table border="0" cellspacing="0">
<tr>
<td height="48" width="36">
<a href="../../"><img src="/~miyazaki/images/soroban.gif" width="24" alt="*" align="middle" hspace="6" border="0"></a>
</td>
<td valign="middle">
<a href="../../"><b><font size="+1">CPSC 215L home page</font></b></a>
</td>
</tr>
</table>

<table border="0" cellspacing="0" width="100%">
<tr>
<td width="80%" align="left" valign="bottom">
<script type="text/javascript">
<!--
var docHdg = "";
docHdg += "<font size='-1'>";
docHdg += "<a href='/'>Computer Science Department<\/a><br>";
docHdg += "<a href='http://www.trincoll.edu/'>Trinity College<\/a><br>";
docHdg += "300 Summit Street<br>";
docHdg += "Hartford, Connecticut 06106-3100<br>";
docHdg += "<br>";
docHdg += "The current URL is ";
docHdg += document.location;
docHdg += "<br>";
docHdg += "This file was modified on ";
docHdg += document.lastModified;
docHdg += "<br>";
docHdg += "<\/font>";
document.open();
document.write(unescape(docHdg));
//-->
</script>
</td>
<td width="20%" align="right" valign="bottom">
<a href="http://validator.w3.org/check/referer"><img border="0" src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01!"></a>
</td>
</tr>
</table>

</body>
</html>
